<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Renamer Command Generator</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container">
    <h1>AI Renamer Command Generator</h1>

    <!-- Top-level error summary (hidden by default) -->
    <div id="errorSummary" class="error-summary" style="display: none;"></div>

    <form id="commandForm" novalidate>
      <!-- Basic Info Section -->
      <fieldset>
        <legend>1. Path &amp; Provider</legend>

        <!-- Directory Path -->
        <div class="form-group">
          <label for="directory">
            Directory Path <span class="required">*</span>
          </label>
          <input
            type="text"
            id="directory"
            name="directory"
            placeholder="/path/to/directory/"
            required
          />
          <small class="error-message" id="directoryError"></small>
          <span class="tooltip">
            The absolute path to your folder. Example:
            <code>/Users/username/Desktop</code>
          </span>
        </div>

        <!-- Provider -->
        <div class="form-group">
          <label for="provider">Provider <span class="required">*</span></label>
          <select id="provider" name="provider" required>
            <option value="" disabled selected>Select a provider</option>
            <option value="openai">OpenAI</option>
            <option value="ollama">Ollama</option>
            <option value="lm-studio">LM Studio</option>
            <option value="claude">Claude</option>
          </select>
          <small class="error-message" id="providerError"></small>
          <span class="tooltip">
            Which LLM provider are you using? Ollama runs locally, OpenAI and Claude
            require an API key, LM Studio runs locally, etc.
          </span>
        </div>

        <!-- Provider Info Box -->
        <div id="providerInfo" class="info-box" style="display: none;"></div>

        <!-- API Key (only for OpenAI & Claude) -->
        <div class="form-group" id="apiKeyGroup" style="display: none;">
          <label for="apiKey">API Key <span class="required">*</span></label>
          <input
            type="password"
            id="apiKey"
            name="apiKey"
            placeholder="Your API Key"
          />
          <small class="error-message" id="apiKeyError"></small>
        </div>

        <!-- Base URL (Optional) -->
        <div class="form-group">
          <label for="baseUrl">Base URL (Optional)</label>
          <input
            type="text"
            id="baseUrl"
            name="baseUrl"
            placeholder="e.g., http://127.0.0.1:11434"
          />
          <small class="error-message" id="baseUrlError"></small>
          <span class="tooltip">
            If you have a custom endpoint for Ollama/LM Studio, enter it here.
          </span>
        </div>
      </fieldset>

      <!-- Additional Options -->
      <fieldset>
        <legend>2. Model &amp; Options</legend>

        <!-- Model -->
        <div class="form-group">
          <label for="model">
            Model <span class="required">*</span>
          </label>
          <select id="model" name="model" required>
            <option value="" disabled selected>Select a model</option>
          </select>
          <small class="error-message" id="modelError"></small>
          <span class="tooltip">Pick from available models (e.g., gpt-4, llava, gemma, etc.).</span>
        </div>

        <!-- Frames (Video) -->
        <div class="form-group">
          <label for="frames">Frames (Video Processing)</label>
          <input
            type="number"
            id="frames"
            name="frames"
            min="1"
            max="50"
            value="3"
            placeholder="Number of frames (1â€“50)"
          />
          <small class="error-message" id="framesError"></small>
          <span class="tooltip">
            Max frames to extract from each video (default = 3).
          </span>
        </div>

        <!-- Case Style -->
        <div class="form-group">
          <label for="caseStyle">
            Case Style <span class="required">*</span>
          </label>
          <select id="caseStyle" name="caseStyle" required>
            <option value="" disabled>Select case style</option>
            <option value="camelCase" selected>camelCase</option>
            <option value="pascalCase">PascalCase</option>
            <option value="snakeCase">snake_case</option>
            <option value="kebabCase">kebab-case</option>
            <option value="capitalCase">Capital Case</option>
            <option value="constantCase">CONSTANT_CASE</option>
            <option value="dotCase">dot.case</option>
          </select>
          <small class="error-message" id="caseStyleError"></small>
          <span class="tooltip">
            How new filenames are styled. e.g. <code>myNewFileName</code> vs.
            <code>my_new_file_name</code>.
          </span>
        </div>

        <!-- Char Limit -->
        <div class="form-group">
          <label for="chars">
            Character Limit <span class="required">*</span>
          </label>
          <input
            type="number"
            id="chars"
            name="chars"
            min="1"
            max="200"
            value="20"
            placeholder="Max filename length"
            required
          />
          <small class="error-message" id="charsError"></small>
          <span class="tooltip">
            Truncate the generated filename to this many characters.
          </span>
        </div>

        <!-- Language -->
        <div class="form-group">
          <label for="language">
            Language <span class="required">*</span>
          </label>
          <input
            type="text"
            id="language"
            name="language"
            required
            value="English"
            placeholder="Output language"
          />
          <small class="error-message" id="languageError"></small>
        </div>

        <!-- Include Subdirectories -->
        <div class="form-group">
          <label for="includeSubdirectories">
            Include Subdirectories <span class="required">*</span>
          </label>
          <select id="includeSubdirectories" name="includeSubdirectories" required>
            <option value="" disabled selected>Select an option</option>
            <option value="true">Yes</option>
            <option value="false">No</option>
          </select>
          <small class="error-message" id="includeSubdirectoriesError"></small>
        </div>
      </fieldset>

      <!-- Prompt & Output -->
      <fieldset>
        <legend>3. Prompt &amp; Actions</legend>

        <!-- Custom Prompt -->
        <div class="form-group">
          <label for="customPrompt">
            Custom Prompt <span class="required">*</span>
          </label>
          <textarea
            id="customPrompt"
            name="customPrompt"
            required
            rows="3"
          >Generate concise and relevant filenames based on the content.</textarea>
          <small class="error-message" id="customPromptError"></small>
        </div>

        <!-- Button Group -->
        <div class="button-group">
          <button type="submit">Generate Command</button>
          <button type="button" id="testCommandBtn">Test Command</button>
        </div>
      </fieldset>
    </form>

    <!-- Generated Command Section -->
    <div id="generatedCommandWrapper" class="generated-command-wrapper" style="display: none;">
      <h2>Generated Command</h2>
      <pre id="commandText"></pre>
      <div class="button-group">
        <button class="copy-btn" onclick="copyCommand()">Copy to Clipboard</button>
        <button class="close-btn" onclick="hideCommand()">Close</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
